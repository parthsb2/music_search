{"version":3,"sources":["components/common/Navbar.js","components/home/ErrorMessage.js","components/home/Home.js","hooks/useAppleApi.js","hooks/useLocalStorage.js","helpers/entities.js","helpers/favourites.js","components/search/cards/AlbumCard.js","components/search/cards/MusicArtistCard.js","components/search/cards/SongCard.js","components/common/FavouriteButton.js","components/common/Spinner.js","components/search/SearchPage.js","components/item/items/AlbumItem.js","components/item/items/SongItem.js","components/item/ItemPage.js","components/favourites/Favourites.js","App.js","index.js"],"names":["Home","window","location","pathname","reload","Navbar","className","exact","to","activeClassName","onClick","ErrorMessage","React","useState","entity","setEntity","search","setSearch","submitted","setSubmitted","showMessage","setShowMessage","push","onSubmit","event","preventDefault","onChange","target","value","selected","disabled","type","placeholder","useAppleApi","query","undefined","data","setData","loading","setLoading","useEffect","fetch","then","resp","json","results","useLocalStorage","key","defaultValue","JSON","parse","localStorage","getItem","setValue","setItem","stringify","prettyEntities","song","musicArtist","album","isValidInput","validEntities","includes","getComparisonKey","toggleFavourite","item","favourites","setFavourites","comparisonKey","index","findIndex","favourite","filter","_","i","AlbumCard","name","collectionName","artist","artistName","id","collectionId","artistUrl","artistViewUrl","artworkUrl","artworkUrl100","src","alt","href","rel","MusicArtistCard","url","artistLinkUrl","genre","primaryGenreName","SongCard","trackName","trackId","albumId","FavouriteButton","isItemFavourited","map","isFavourite","Spinner","color","css","SearchPage","useParams","searchResults","length","AlbumItem","price","collectionPrice","releaseDate","copyright","collectionExplicitness","albumUrl","collectionViewUrl","explicit","Date","toLocaleDateString","SongItem","previewUrl","trackPrice","trackUrl","trackViewUrl","controls","SingleResult","Favourites","favouriteAlbums","setFavouriteAlbums","favouriteArtists","setFavouriteArtists","favouriteSongs","setFavouriteSongs","artistId","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48729699.chunk.js","sourcesContent":["import { NavLink } from \"react-router-dom\"\n\nfunction Home() {\n  if (window.location.pathname === \"/\") {\n    window.location.reload()\n  }\n}\n\nexport function Navbar() {\n  return (\n    <header className=\"navbar-section\">\n      <nav className=\"navbar\">\n        <NavLink exact to=\"/\" className=\"navbar-item\" activeClassName=\"is-active\" onClick={Home}>\n          Home\n        </NavLink>\n        <NavLink exact to=\"/favourites\" className=\"navbar-item\" activeClassName=\"is-active\">\n          Favourites\n        </NavLink>\n      </nav>\n    </header>\n  )\n}\n","function ErrorMessage() {\n  return <div className=\"error\">Must Select a Search Criteria!</div>\n}\n\nexport default ErrorMessage\n","import { Redirect } from \"react-router-dom\"\nimport React from \"react\"\nimport ErrorMessage from \"./ErrorMessage\"\n\nexport function Home() {\n  const [entity, setEntity] = React.useState(\"\")\n  const [search, setSearch] = React.useState(\"\")\n  const [submitted, setSubmitted] = React.useState(false)\n  const [showMessage, setShowMessage] = React.useState(false)\n\n  function handleSelect(event) {\n    setEntity(event.target.value)\n  }\n\n  function handleSearch(event) {\n    setSearch(event.target.value)\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault()\n    if (entity && search) {\n      return setSubmitted(true)\n    } else {\n      setShowMessage(true)\n    }\n  }\n\n  if (submitted) return <Redirect push to={`/search/${entity}/${search}`} />\n\n  return (\n    <main>\n      <section className=\"home-page\">\n        <div className=\"home-container\">\n          <form onSubmit={handleSubmit}>\n            <select onChange={handleSelect} value={entity}>\n              <option selected disabled value=\"\">\n                Select Search Criteria\n              </option>\n              <option value=\"musicArtist\">Artists</option>\n              <option value=\"song\">Songs</option>\n              <option value=\"album\">Album</option>\n            </select>\n            <input\n              type=\"text\"\n              placeholder=\"Search for Music here\"\n              onChange={handleSearch}\n              value={search}\n            />\n            <button>Search</button>\n          </form>\n          {showMessage ? <ErrorMessage /> : \"\"}\n        </div>\n      </section>\n    </main>\n  )\n}\n","import { useState, useEffect } from \"react\"\n\nexport function useAppleApi(entity, query) {\n  const [data, setData] = useState(undefined)\n  const [loading, setLoading] = useState(true)\n\n  // Fetch data from iTunes API\n  useEffect(() => {\n    setLoading(true)\n    fetch(`https://itunes.apple.com/search?term=${query}&entity=${entity}&country=GB`)\n      .then((resp) => resp.json())\n      .then((data) => {\n        setData(data.results)\n        setLoading(false)\n      })\n  }, [entity, query])\n\n  return [loading, data]\n}\n","import { useState, useEffect } from \"react\"\n\nexport function useLocalStorage(key, defaultValue) {\n  const [value, setValue] = useState(JSON.parse(localStorage.getItem(key)) || defaultValue)\n\n  useEffect(() => {\n    setValue(JSON.parse(localStorage.getItem(key)) || defaultValue)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [key])\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value])\n\n  return [value, setValue]\n}\n","export const prettyEntities = {\n  song: \"Songs\",\n  musicArtist: \"Artists\",\n  album: \"Albums\",\n}\n\nexport function isValidInput(entity, validEntities = [\"song\", \"musicArtist\", \"album\"]) {\n  return validEntities.includes(entity)\n}\n","function getComparisonKey(entity) {\n  if (entity === \"album\") return \"collectionId\"\n  if (entity === \"song\") return \"trackId\"\n  if (entity === \"musicArtist\") return \"artistId\"\n}\n\nexport function isFavourite(item, entity, favourites) {\n  const comparisonKey = getComparisonKey(entity)\n  const favouriteIds = favourites.map((favourite) => favourite[comparisonKey])\n  return favouriteIds.includes(item[comparisonKey])\n}\n\nexport function toggleFavourite(item, entity, favourites, setFavourites) {\n  const comparisonKey = getComparisonKey(entity)\n  const index = favourites.findIndex(\n    (favourite) => favourite[comparisonKey] === item[comparisonKey]\n  )\n  if (index === -1) setFavourites([...favourites, item])\n  else setFavourites(favourites.filter((_, i) => i !== index))\n}\n","import { Link } from \"react-router-dom\"\n\nexport function AlbumCard({ album }) {\n  const {\n    collectionName: name,\n    artistName: artist,\n    collectionId: id,\n    artistViewUrl: artistUrl,\n    artworkUrl100: artworkUrl,\n  } = album\n\n  return (\n    <>\n      <img src={artworkUrl} alt=\"Album artwork\" />\n      <div className=\"result-title\">\n        <h3>\n          <Link to={`/album/${id}`}>{name}</Link>\n        </h3>\n        {artistUrl ? (\n          <a href={artistUrl} target=\"_blank\" rel=\"noreferrer\">\n            <p>{artist}</p>\n          </a>\n        ) : (\n          artist\n        )}\n      </div>\n    </>\n  )\n}\n","export function MusicArtistCard({ musicArtist }) {\n  const { artistLinkUrl: url, artistName: name, primaryGenreName: genre } = musicArtist\n\n  return (\n    <>\n      <div className=\"result-title\">\n        <h3>\n          {url ? (\n            <a href={url} target=\"_blank\" rel=\"noreferrer\">\n              {name}\n            </a>\n          ) : (\n            name\n          )}\n        </h3>\n        <p>{genre}</p>\n      </div>\n    </>\n  )\n}\n","import { Link } from \"react-router-dom\"\n\nexport function SongCard({ song }) {\n  const {\n    trackName: name,\n    trackId: id,\n    artistName: artist,\n    collectionName: album,\n    artistViewUrl: artistUrl,\n    collectionId: albumId,\n    artworkUrl100: artworkUrl,\n  } = song\n\n  return (\n    <>\n      <img src={artworkUrl} alt=\"Album artwork\" />\n      <div className=\"result-title\">\n        <h3>\n          <Link to={`/song/${id}`}>{name}</Link>\n        </h3>\n        <p>\n          {artistUrl ? (\n            <a href={artistUrl} target=\"_blank\" rel=\"noreferrer\">\n              {artist}\n            </a>\n          ) : (\n            artist\n          )}{\" \"}\n          &bull; <Link to={`/album/${albumId}`}>{album}</Link>\n        </p>\n      </div>\n    </>\n  )\n}\n","import { isFavourite, toggleFavourite } from \"../../helpers\"\n\nexport function FavouriteButton({ item, entity, favourites, setFavourites }) {\n  const isItemFavourited = isFavourite(item, entity, favourites)\n  const toggleItemFavourited = () => toggleFavourite(item, entity, favourites, setFavourites)\n\n  return (\n    <button\n      className={`favourite-button ${isItemFavourited ? \"is-active\" : \"\"}`}\n      onClick={toggleItemFavourited}\n      aria-pressed={isItemFavourited}\n    >\n      <span className=\"favourite-status\">Favourite</span>\n      <span className=\"remove-favourite\">Remove Favourite</span>\n    </button>\n  )\n}\n","import PulseLoader from \"react-spinners/PulseLoader\"\n\nexport function Spinner({ loading = true }) {\n  const styles = `\n    display: block;\n    text-align: center;\n    margin: 40px auto;\n  `\n  return <PulseLoader color=\"white\" loading={loading} css={styles} />\n}\n","import { useParams } from \"react-router\"\nimport { useAppleApi, useLocalStorage } from \"../../hooks\"\nimport { prettyEntities, isValidInput } from \"../../helpers\"\n\nimport { AlbumCard, SongCard, MusicArtistCard } from \"./cards\"\nimport { FavouriteButton } from \"../common/FavouriteButton\"\nimport { Spinner } from \"../common/Spinner\"\n\nexport function SearchPage() {\n  const { entity, query } = useParams()\n  const [loading, searchResults] = useAppleApi(entity, query)\n  const [favourites, setFavourites] = useLocalStorage(`favourite_${entity}s`, [])\n\n  if (!isValidInput(entity)) return <div>Error!</div>\n\n  return (\n    <main>\n      <section id=\"search-results\">\n        <h1>\n          {prettyEntities[entity]} matching: <span className=\"query\">{query}</span>\n        </h1>\n        <ul>\n          {loading && (\n            <li>\n              <Spinner />\n            </li>\n          )}\n          {!loading && searchResults.length === 0 && (\n            <li>\n              <div className=\"result\">Nothing found :(</div>\n            </li>\n          )}\n          {!loading &&\n            searchResults.length > 0 &&\n            searchResults.map((item, index) => {\n              return (\n                <li key={index}>\n                  <div className=\"result\">\n                    {entity === \"album\" && <AlbumCard album={item} />}\n                    {entity === \"song\" && <SongCard song={item} />}\n                    {entity === \"musicArtist\" && <MusicArtistCard musicArtist={item} />}\n                    <FavouriteButton\n                      item={item}\n                      entity={entity}\n                      favourites={favourites}\n                      setFavourites={setFavourites}\n                    />\n                  </div>\n                </li>\n              )\n            })}\n        </ul>\n      </section>\n    </main>\n  )\n}\n","import { FavouriteButton } from \"../../common/FavouriteButton\"\n\nexport function AlbumItem({ item: album, entity, favourites, setFavourites }) {\n  const {\n    collectionName: name,\n    artistName: artist,\n    primaryGenreName: genre,\n    collectionPrice: price,\n    releaseDate,\n    copyright,\n    collectionExplicitness,\n    collectionViewUrl: albumUrl,\n    artistViewUrl: artistUrl,\n    artworkUrl100: artworkUrl,\n  } = album\n\n  const explicit = collectionExplicitness === \"explicit\"\n\n  return (\n    <>\n      <img src={artworkUrl} alt=\"Album artwork\" />\n      <div className=\"item-content\">\n        <header>\n          <div className=\"item-title\">\n            <div className=\"item-main-title\">\n              <h1>\n                <a href={albumUrl} target=\"_blank\" rel=\"noreferrer\">\n                  {name}\n                </a>\n              </h1>\n              {explicit && <span className=\"explicit\">E</span>}\n            </div>\n            <div className=\"item-second-title\">\n              <h2>\n                {artistUrl ? (\n                  <a href={artistUrl} target=\"_blank\" rel=\"noreferrer\">\n                    {artist}\n                  </a>\n                ) : (\n                  <>{artist}</>\n                )}\n              </h2>\n            </div>\n          </div>\n          <FavouriteButton\n            item={album}\n            entity={entity}\n            favourites={favourites}\n            setFavourites={setFavourites}\n          />\n        </header>\n        <main>\n          {genre && <p>Genre: {genre}</p>}\n          {price && <p>Price: £{price}</p>}\n          {releaseDate && <p>Released: {new Date(releaseDate).toLocaleDateString()}</p>}\n          {copyright && <small>{copyright}</small>}\n        </main>\n      </div>\n    </>\n  )\n}\n","import { Link } from \"react-router-dom\"\nimport { FavouriteButton } from \"../../common/FavouriteButton\"\n\nexport function SongItem({ item: song, entity, favourites, setFavourites }) {\n  const {\n    trackName: name,\n    previewUrl,\n    collectionName: album,\n    collectionId: albumId,\n    artistName: artist,\n    primaryGenreName: genre,\n    trackPrice: price,\n    releaseDate,\n    copyright,\n    collectionExplicitness,\n    trackViewUrl: trackUrl,\n    artistViewUrl: artistUrl,\n    artworkUrl100: artworkUrl,\n  } = song\n\n  const explicit = collectionExplicitness === \"explicit\"\n\n  return (\n    <>\n      <img src={artworkUrl} alt=\"Album artwork\" />\n      <div className=\"item-content\">\n        <header>\n          <div className=\"item-title\">\n            <div className=\"item-main-title\">\n              <h1>\n                <a href={trackUrl} target=\"_blank\" rel=\"noreferrer\">\n                  {name}\n                </a>\n              </h1>\n              {explicit && <span className=\"explicit\">E</span>}\n            </div>\n            <div className=\"item-second-title\">\n              <h2>\n                {artistUrl ? (\n                  <a href={artistUrl} target=\"_blank\" rel=\"noreferrer\">\n                    {artist}\n                  </a>\n                ) : (\n                  <>{artist}</>\n                )}{\" \"}\n              </h2>\n              <span className=\"bullet\">&bull;</span>\n              <h3>\n                <Link to={`/album/${albumId}`}>{album}</Link>\n              </h3>\n            </div>\n          </div>\n          <FavouriteButton\n            item={song}\n            entity={entity}\n            favourites={favourites}\n            setFavourites={setFavourites}\n          />\n        </header>\n        <main>\n          {previewUrl && (\n            <audio controls>\n              <source src={previewUrl} type=\"audio/mp4\" />\n              Your browser does not support the audio element.\n            </audio>\n          )}\n          {genre && <p>Genre: {genre}</p>}\n          {price && <p>Price: £{price}</p>}\n          {releaseDate && <p>Released: {new Date(releaseDate).toLocaleDateString()}</p>}\n          {copyright && <small>{copyright}</small>}\n        </main>\n      </div>\n    </>\n  )\n}\n","import { useParams } from \"react-router\"\nimport { isValidInput } from \"../../helpers\"\nimport { useAppleApi, useLocalStorage } from \"../../hooks\"\nimport { Spinner } from \"../common/Spinner\"\n\nimport { AlbumItem, SongItem } from \"./items\"\n\nexport function SingleResult() {\n  const { entity, id } = useParams()\n\n  const [loading, data] = useAppleApi(entity, id)\n  const [favourites, setFavourites] = useLocalStorage(`favourite_${entity}s`, [])\n\n  if (!isValidInput(entity, [\"album\", \"song\"])) return <section id=\"item-result\">Error</section>\n\n  if (loading)\n    return (\n      <section id=\"item-result\">\n        <Spinner />\n      </section>\n    )\n\n  if (!loading && data.length !== 1) return <section id=\"item-result\">Not Found</section>\n\n  const item = data[0]\n\n  return (\n    <section id=\"item-result\">\n      {entity === \"album\" && (\n        <AlbumItem\n          item={item}\n          entity={entity}\n          favourites={favourites}\n          setFavourites={setFavourites}\n        />\n      )}\n      {entity === \"song\" && (\n        <SongItem\n          item={item}\n          entity={entity}\n          favourites={favourites}\n          setFavourites={setFavourites}\n        />\n      )}\n    </section>\n  )\n}\n","import { useLocalStorage } from \"../../hooks\"\nimport { toggleFavourite } from \"../../helpers\"\nimport { Link } from \"react-router-dom\"\n\nexport function Favourites() {\n  const [favouriteAlbums, setFavouriteAlbums] = useLocalStorage(\"favourite_albums\", [])\n  const [favouriteArtists, setFavouriteArtists] = useLocalStorage(\"favourite_musicArtists\", [])\n  const [favouriteSongs, setFavouriteSongs] = useLocalStorage(\"favourite_songs\", [])\n\n  return (\n    <div className=\"favourites-page\">\n      <h1>Your Favourites!</h1>\n      <div className=\"favourites-container\">\n        <section className=\"liked-lists\">\n          <h2>Liked Songs</h2>\n          {favouriteSongs.map((song) => {\n            return (\n              <div key={song.trackId}>\n                <div className=\"details\">\n                  <Link to={`/song/${song.trackId}`}>\n                    <h4>{song.trackName}</h4>\n                  </Link>\n                  <a href={song.artistViewUrl} target=\"_blank\" rel=\"noreferrer noopener\">\n                    <p>{song.artistName}</p>\n                  </a>\n                </div>\n                <button\n                  className=\"button\"\n                  onClick={() => toggleFavourite(song, \"song\", favouriteSongs, setFavouriteSongs)}\n                >\n                  Remove from Favourites\n                </button>\n              </div>\n            )\n          })}\n        </section>\n\n        <section className=\"liked-lists\">\n          <h2>Liked Artists</h2>\n          {favouriteArtists.map((artist) => {\n            return (\n              <div key={artist.artistId}>\n                <div className=\"details\">\n                  <a href={artist.artistLinkUrl} target=\"_blank\" rel=\"noreferrer noopener\">\n                    <h4>{artist.artistName}</h4>\n                  </a>\n                  <p>{artist.primaryGenreName}</p>\n                </div>\n                <button\n                  className=\"button\"\n                  onClick={() =>\n                    toggleFavourite(artist, \"musicArtist\", favouriteArtists, setFavouriteArtists)\n                  }\n                >\n                  Remove from Favourites\n                </button>\n              </div>\n            )\n          })}\n        </section>\n\n        <section className=\"liked-lists\">\n          <h2>Liked Albums</h2>\n          {favouriteAlbums.map((album) => {\n            return (\n              <div key={album.collectionId}>\n                <div className=\"details\">\n                  <Link to={`/album/${album.collectionId}`}>\n                    <h4>{album.collectionName}</h4>\n                  </Link>\n                  <a href={album.artistViewUrl} target=\"_blank\" rel=\"noreferrer noopener\">\n                    <p>{album.artistName}</p>\n                  </a>\n                </div>\n                <button\n                  className=\"button\"\n                  onClick={() =>\n                    toggleFavourite(album, \"album\", favouriteAlbums, setFavouriteAlbums)\n                  }\n                >\n                  Remove from Favourites\n                </button>\n              </div>\n            )\n          })}\n        </section>\n      </div>\n    </div>\n  )\n}\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\"\n\n// Import components\nimport { Navbar } from \"./components/common/Navbar\"\nimport { Home } from \"./components/home/Home\"\nimport { SearchPage } from \"./components/search/SearchPage\"\nimport { SingleResult } from \"./components/item/ItemPage\"\nimport { Favourites } from \"./components/favourites/Favourites\"\n\n// Import styles\nimport \"./styles/main.scss\"\nimport \"./styles/navbar.scss\"\nimport \"./styles/search-results.scss\"\nimport \"./styles/item-result.scss\"\nimport \"./styles/favourites.scss\"\nimport \"./styles/button.scss\"\nimport \"./styles/error.scss\"\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/search/:entity/:query\" component={SearchPage} />\n        <Route path=\"/:entity/:id\" component={SingleResult} />\n        <Route path=\"/favourites\" component={Favourites} />\n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./styles/main.scss\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}