(this["webpackJsonpproject-2"]=this["webpackJsonpproject-2"]||[]).push([[0],{17:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var r=c(1),s=c.n(r),n=c(19),i=c.n(n),a=(c(17),c(5)),l=c(2),j=c(0);function o(){"/"===window.location.pathname&&window.location.reload()}function b(){return Object(j.jsx)("header",{className:"navbar-section",children:Object(j.jsxs)("nav",{className:"navbar",children:[Object(j.jsx)(a.c,{exact:!0,to:"/",className:"navbar-item",activeClassName:"is-active",onClick:o,children:"Home"}),Object(j.jsx)(a.c,{exact:!0,to:"/favourites",className:"navbar-item",activeClassName:"is-active",children:"Favourites"})]})})}var u=c(4);var d=function(){return Object(j.jsx)("div",{className:"error",children:"Must Select a Search Criteria!"})};function h(){var e=s.a.useState(""),t=Object(u.a)(e,2),c=t[0],r=t[1],n=s.a.useState(""),i=Object(u.a)(n,2),a=i[0],o=i[1],b=s.a.useState(!1),h=Object(u.a)(b,2),O=h[0],m=h[1],x=s.a.useState(!1),v=Object(u.a)(x,2),f=v[0],p=v[1];return O?Object(j.jsx)(l.a,{push:!0,to:"/search/".concat(c,"/").concat(a)}):Object(j.jsx)("main",{children:Object(j.jsx)("section",{className:"home-page",children:Object(j.jsxs)("div",{className:"home-container",children:[Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),c&&a)return m(!0);p(!0)},children:[Object(j.jsxs)("select",{onChange:function(e){r(e.target.value)},value:c,children:[Object(j.jsx)("option",{selected:!0,disabled:!0,value:"",children:"Select Search Criteria"}),Object(j.jsx)("option",{value:"musicArtist",children:"Artists"}),Object(j.jsx)("option",{value:"song",children:"Songs"}),Object(j.jsx)("option",{value:"album",children:"Album"})]}),Object(j.jsx)("input",{type:"text",placeholder:"Search for Music here",onChange:function(e){o(e.target.value)},value:a}),Object(j.jsx)("button",{children:"Search"})]}),f?Object(j.jsx)(d,{}):""]})})})}function O(e,t){var c=Object(r.useState)(void 0),s=Object(u.a)(c,2),n=s[0],i=s[1],a=Object(r.useState)(!0),l=Object(u.a)(a,2),j=l[0],o=l[1];return Object(r.useEffect)((function(){o(!0),fetch("https://itunes.apple.com/search?term=".concat(t,"&entity=").concat(e,"&country=GB")).then((function(e){return e.json()})).then((function(e){i(e.results),o(!1)}))}),[e,t]),[j,n]}function m(e,t){var c=Object(r.useState)(JSON.parse(localStorage.getItem(e))||t),s=Object(u.a)(c,2),n=s[0],i=s[1];return Object(r.useEffect)((function(){i(JSON.parse(localStorage.getItem(e))||t)}),[e]),Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(n))}),[n]),[n,i]}var x={song:"Songs",musicArtist:"Artists",album:"Albums"};function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["song","musicArtist","album"];return t.includes(e)}var f=c(22);function p(e){return"album"===e?"collectionId":"song"===e?"trackId":"musicArtist"===e?"artistId":void 0}function g(e,t,c,r){var s=p(t),n=c.findIndex((function(t){return t[s]===e[s]}));r(-1===n?[].concat(Object(f.a)(c),[e]):c.filter((function(e,t){return t!==n})))}function N(e){var t=e.album,c=t.collectionName,r=t.artistName,s=t.collectionId,n=t.artistViewUrl,i=t.artworkUrl100;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:i,alt:"Album artwork"}),Object(j.jsxs)("div",{className:"result-title",children:[Object(j.jsx)("h3",{children:Object(j.jsx)(a.b,{to:"/album/".concat(s),children:c})}),n?Object(j.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",children:Object(j.jsx)("p",{children:r})}):r]})]})}function k(e){var t=e.musicArtist,c=t.artistLinkUrl,r=t.artistName,s=t.primaryGenreName;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"result-title",children:[Object(j.jsx)("h3",{children:c?Object(j.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:r}):r}),Object(j.jsx)("p",{children:s})]})})}function y(e){var t=e.song,c=t.trackName,r=t.trackId,s=t.artistName,n=t.collectionName,i=t.artistViewUrl,l=t.collectionId,o=t.artworkUrl100;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:o,alt:"Album artwork"}),Object(j.jsxs)("div",{className:"result-title",children:[Object(j.jsx)("h3",{children:Object(j.jsx)(a.b,{to:"/song/".concat(r),children:c})}),Object(j.jsxs)("p",{children:[i?Object(j.jsx)("a",{href:i,target:"_blank",rel:"noreferrer",children:s}):s," ","\u2022 ",Object(j.jsx)(a.b,{to:"/album/".concat(l),children:n})]})]})]})}function w(e){var t=e.item,c=e.entity,r=e.favourites,s=e.setFavourites,n=function(e,t,c){var r=p(t);return c.map((function(e){return e[r]})).includes(e[r])}(t,c,r);return Object(j.jsxs)("button",{className:"favourite-button ".concat(n?"is-active":""),onClick:function(){return g(t,c,r,s)},"aria-pressed":n,children:[Object(j.jsx)("span",{className:"favourite-status",children:"Favourite"}),Object(j.jsx)("span",{className:"remove-favourite",children:"Remove Favourite"})]})}var S=c(21),F=c.n(S);function A(e){var t=e.loading,c=void 0===t||t;return Object(j.jsx)(F.a,{color:"white",loading:c,css:"\n    display: block;\n    text-align: center;\n    margin: 40px auto;\n  "})}function I(){var e=Object(l.g)(),t=e.entity,c=e.query,r=O(t,c),s=Object(u.a)(r,2),n=s[0],i=s[1],a=m("favourite_".concat(t,"s"),[]),o=Object(u.a)(a,2),b=o[0],d=o[1];return v(t)?Object(j.jsx)("main",{children:Object(j.jsxs)("section",{id:"search-results",children:[Object(j.jsxs)("h1",{children:[x[t]," matching: ",Object(j.jsx)("span",{className:"query",children:c})]}),Object(j.jsxs)("ul",{children:[n&&Object(j.jsx)("li",{children:Object(j.jsx)(A,{})}),!n&&0===i.length&&Object(j.jsx)("li",{children:Object(j.jsx)("div",{className:"result",children:"Nothing found :("})}),!n&&i.length>0&&i.map((function(e,c){return Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"result",children:["album"===t&&Object(j.jsx)(N,{album:e}),"song"===t&&Object(j.jsx)(y,{song:e}),"musicArtist"===t&&Object(j.jsx)(k,{musicArtist:e}),Object(j.jsx)(w,{item:e,entity:t,favourites:b,setFavourites:d})]})},c)}))]})]})}):Object(j.jsx)("div",{children:"Error!"})}function U(e){var t=e.item,c=e.entity,r=e.favourites,s=e.setFavourites,n=t.collectionName,i=t.artistName,a=t.primaryGenreName,l=t.collectionPrice,o=t.releaseDate,b=t.copyright,u=t.collectionExplicitness,d=t.collectionViewUrl,h=t.artistViewUrl,O=t.artworkUrl100,m="explicit"===u;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:O,alt:"Album artwork"}),Object(j.jsxs)("div",{className:"item-content",children:[Object(j.jsxs)("header",{children:[Object(j.jsxs)("div",{className:"item-title",children:[Object(j.jsxs)("div",{className:"item-main-title",children:[Object(j.jsx)("h1",{children:Object(j.jsx)("a",{href:d,target:"_blank",rel:"noreferrer",children:n})}),m&&Object(j.jsx)("span",{className:"explicit",children:"E"})]}),Object(j.jsx)("div",{className:"item-second-title",children:Object(j.jsx)("h2",{children:h?Object(j.jsx)("a",{href:h,target:"_blank",rel:"noreferrer",children:i}):Object(j.jsx)(j.Fragment,{children:i})})})]}),Object(j.jsx)(w,{item:t,entity:c,favourites:r,setFavourites:s})]}),Object(j.jsxs)("main",{children:[a&&Object(j.jsxs)("p",{children:["Genre: ",a]}),l&&Object(j.jsxs)("p",{children:["Price: \xa3",l]}),o&&Object(j.jsxs)("p",{children:["Released: ",new Date(o).toLocaleDateString()]}),b&&Object(j.jsx)("small",{children:b})]})]})]})}function _(e){var t=e.item,c=e.entity,r=e.favourites,s=e.setFavourites,n=t.trackName,i=t.previewUrl,l=t.collectionName,o=t.collectionId,b=t.artistName,u=t.primaryGenreName,d=t.trackPrice,h=t.releaseDate,O=t.copyright,m=t.collectionExplicitness,x=t.trackViewUrl,v=t.artistViewUrl,f=t.artworkUrl100,p="explicit"===m;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{src:f,alt:"Album artwork"}),Object(j.jsxs)("div",{className:"item-content",children:[Object(j.jsxs)("header",{children:[Object(j.jsxs)("div",{className:"item-title",children:[Object(j.jsxs)("div",{className:"item-main-title",children:[Object(j.jsx)("h1",{children:Object(j.jsx)("a",{href:x,target:"_blank",rel:"noreferrer",children:n})}),p&&Object(j.jsx)("span",{className:"explicit",children:"E"})]}),Object(j.jsxs)("div",{className:"item-second-title",children:[Object(j.jsxs)("h2",{children:[v?Object(j.jsx)("a",{href:v,target:"_blank",rel:"noreferrer",children:b}):Object(j.jsx)(j.Fragment,{children:b})," "]}),Object(j.jsx)("span",{className:"bullet",children:"\u2022"}),Object(j.jsx)("h3",{children:Object(j.jsx)(a.b,{to:"/album/".concat(o),children:l})})]})]}),Object(j.jsx)(w,{item:t,entity:c,favourites:r,setFavourites:s})]}),Object(j.jsxs)("main",{children:[i&&Object(j.jsxs)("audio",{controls:!0,children:[Object(j.jsx)("source",{src:i,type:"audio/mp4"}),"Your browser does not support the audio element."]}),u&&Object(j.jsxs)("p",{children:["Genre: ",u]}),d&&Object(j.jsxs)("p",{children:["Price: \xa3",d]}),h&&Object(j.jsxs)("p",{children:["Released: ",new Date(h).toLocaleDateString()]}),O&&Object(j.jsx)("small",{children:O})]})]})]})}function C(){var e=Object(l.g)(),t=e.entity,c=O(t,e.id),r=Object(u.a)(c,2),s=r[0],n=r[1],i=m("favourite_".concat(t,"s"),[]),a=Object(u.a)(i,2),o=a[0],b=a[1];if(!v(t,["album","song"]))return Object(j.jsx)("section",{id:"item-result",children:"Error"});if(s)return Object(j.jsx)("section",{id:"item-result",children:Object(j.jsx)(A,{})});if(!s&&1!==n.length)return Object(j.jsx)("section",{id:"item-result",children:"Not Found"});var d=n[0];return Object(j.jsxs)("section",{id:"item-result",children:["album"===t&&Object(j.jsx)(U,{item:d,entity:t,favourites:o,setFavourites:b}),"song"===t&&Object(j.jsx)(_,{item:d,entity:t,favourites:o,setFavourites:b})]})}function E(){var e=m("favourite_albums",[]),t=Object(u.a)(e,2),c=t[0],r=t[1],s=m("favourite_musicArtists",[]),n=Object(u.a)(s,2),i=n[0],l=n[1],o=m("favourite_songs",[]),b=Object(u.a)(o,2),d=b[0],h=b[1];return Object(j.jsxs)("div",{className:"favourites-page",children:[Object(j.jsx)("h1",{children:"Your Favourites!"}),Object(j.jsxs)("div",{className:"favourites-container",children:[Object(j.jsxs)("section",{className:"liked-lists",children:[Object(j.jsx)("h2",{children:"Liked Songs"}),d.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"details",children:[Object(j.jsx)(a.b,{to:"/song/".concat(e.trackId),children:Object(j.jsx)("h4",{children:e.trackName})}),Object(j.jsx)("a",{href:e.artistViewUrl,target:"_blank",rel:"noreferrer noopener",children:Object(j.jsx)("p",{children:e.artistName})})]}),Object(j.jsx)("button",{className:"button",onClick:function(){return g(e,"song",d,h)},children:"Remove from Favourites"})]},e.trackId)}))]}),Object(j.jsxs)("section",{className:"liked-lists",children:[Object(j.jsx)("h2",{children:"Liked Artists"}),i.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"details",children:[Object(j.jsx)("a",{href:e.artistLinkUrl,target:"_blank",rel:"noreferrer noopener",children:Object(j.jsx)("h4",{children:e.artistName})}),Object(j.jsx)("p",{children:e.primaryGenreName})]}),Object(j.jsx)("button",{className:"button",onClick:function(){return g(e,"musicArtist",i,l)},children:"Remove from Favourites"})]},e.artistId)}))]}),Object(j.jsxs)("section",{className:"liked-lists",children:[Object(j.jsx)("h2",{children:"Liked Albums"}),c.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"details",children:[Object(j.jsx)(a.b,{to:"/album/".concat(e.collectionId),children:Object(j.jsx)("h4",{children:e.collectionName})}),Object(j.jsx)("a",{href:e.artistViewUrl,target:"_blank",rel:"noreferrer noopener",children:Object(j.jsx)("p",{children:e.artistName})})]}),Object(j.jsx)("button",{className:"button",onClick:function(){return g(e,"album",c,r)},children:"Remove from Favourites"})]},e.collectionId)}))]})]})]})}c(38),c(39),c(40),c(41),c(42),c(43);var V=function(){return Object(j.jsxs)(a.a,{children:[Object(j.jsx)(b,{}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{exact:!0,path:"/",component:h}),Object(j.jsx)(l.b,{path:"/search/:entity/:query",component:I}),Object(j.jsx)(l.b,{path:"/:entity/:id",component:C}),Object(j.jsx)(l.b,{path:"/favourites",component:E})]})]})};i.a.render(Object(j.jsx)(V,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.48729699.chunk.js.map